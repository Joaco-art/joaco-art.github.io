<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love You Tee - White</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="imagenes/priamo-logo.png">
</head>
<body class="fondo">

    <div id="navbar"></div>

    <main>
       <div class="carrito-titulo">
        <h1>Productos favoritos</h1>
       </div>
    <div class="favoritos">
        <div id="resultado"></div>
    </div>
    </main>

    <div id="footer"></div>

    <script src="index.js"></script>

<script>
        // Recuperar los productos del carrito desde localStorage
        const carrito = JSON.parse(localStorage.getItem('wihslist'));

        // Mostrar los productos en la pÃ¡gina
        const resultado = document.getElementById('resultado');
        if (carrito && carrito.length > 0) {
            carrito.forEach((producto, index) => {
                const productoDiv = document.createElement('div');
                productoDiv.className = 'producto';
                productoDiv.innerHTML = `
                    <img src="${producto.imagen}" alt="${producto.nombre}">
                    <div>
                        <h2>${producto.nombre}</h2>
                        <p>Precio: $${producto.precio}</p>
                        <p>Talla: ${producto.talla}</p>
                        <p>
                            Cantidad: 
                            <input type="number" value="${producto.cantidad}" min="1" data-index="${index}">
                            <button data-index="${index}">Eliminar</button>
                        </p>
                    </div>
                `;
                resultado.appendChild(productoDiv);
            });

            // Agregar eventos a los botones de eliminar y campos de cantidad
            document.querySelectorAll('.producto button').forEach(button => {
                button.addEventListener('click', (e) => {
                    const index = e.target.getAttribute('data-index');
                    carrito.splice(index, 1);
                    localStorage.setItem('wishlist', JSON.stringify(carrito));
                    location.reload();
                });
            });

            document.querySelectorAll('.producto input[type="number"]').forEach(input => {
                input.addEventListener('change', (e) => {
                    const index = e.target.getAttribute('data-index');
                    carrito[index].cantidad = e.target.value;
                    localStorage.setItem('wishlist', JSON.stringify(carrito));
                });
            });
        } else {
            resultado.innerText = 'No hay productos en favoritos.';
        }
    </script>
</body>
</html>
